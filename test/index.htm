<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Upload Multiple Image</title>
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    </script>
  </head>
  <style media="screen">
    #preview{
      display: flex;
      width: 200px;
      height: 200px;
      border: 1px solid black;
      margin-top: -15px;
      flex-wrap: wrap;
      overflow-y: scroll;
    }
    #preview img{
      width: 50%;
      height: 50%;
    }
  </style>
  <body>
    <form enctype="multipart/form-data" action="" method="post">
      <input type="file" name="fileImg[]" id="fileImg" multiple onchange="preview();">
      <button type="button" onclick="submitData();">Submit</button>
    </form>
    <p>Preview</p>
    <div id = "preview">

    </div>

    <script type="text/javascript">
      function preview(){
        var totalFiles = $('#fileImg').get(0).files.length;
        for(var i = 0; i < totalFiles; i++){
          $('#preview').append("<img src = '"+URL.createObjectURL(event.target.files[i])+"'>");
        }
      }

      function submitData(){
        $(document).ready(function(){
          var formData = new FormData();

          var totalFiles = $("#fileImg").get(0).files.length;
          for (var i = 0; i < totalFiles; i++) {
              formData.append("fileImg[]", $("#fileImg").get(0).files[i]);
          }

          $.ajax({
            url: 'function.php',
            type: 'post',
            data: formData,
            contentType: false,
            processData: false,
            success:function(response){
              alert(response);
            }
          });
        });
      }
    </script>
  </body>
</html>
